{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/profile/Profile.module.css","components/profile/profileInfo/ProfileInfo.module.css","components/profile/profileStatus/ProfileStatus.module.css","components/profile/myPosts/MyPosts.module.css","components/profile/myPosts/post/Post.module.css","components/profile/myPosts/addPost/AddPostForm.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/profile/profileStatus/ProfileStatusWithHooks.jsx","components/profile/profileInfo/ProfileInfo.jsx","components/profile/myPosts/post/Post.jsx","components/profile/myPosts/addPost/AddPostForm.jsx","components/profile/myPosts/MyPosts.jsx","components/profile/myPosts/MyPostsContainer.jsx","components/profile/Profile.jsx","components/profile/ProfileContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onBlur","updateUserStatus","onChange","event","target","autoFocus","onDoubleClick","className","css","ProfileInfo","profile","photo","photos","small","info","src","ava","alt","Post","item","message","likeCount","maxLen30","maxLen","AddPostForm","reduxForm","form","onSubmit","handleSubmit","Field","name","placeholder","component","TextArea","validate","requiredField","button","MyPosts","block","values","addPost","text","posts","map","post","key","id","mapDispatchToProps","MyPostsContainer","profileReducer","Profile","footer","ProfileContainer","userId","match","params","getUserProfile","getUserStatus","compose","withRouter"],"mappings":"gNAIMA,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAIdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAKC,KAAKC,MAAMN,OAIT,kBAACG,EAAcE,KAAKC,OAHhB,kBAAC,IAAD,CAAUC,GAAG,eAJW,GACXC,IAAML,WAUtC,OAAOM,YAAQX,EAARW,CAAyBL,K,oBCpBpCM,EAAOC,QAAU,CAAC,OAAS,0B,oBCA3BD,EAAOC,QAAU,CAAC,IAAM,yBAAyB,KAAO,0BAA0B,YAAc,iCAAiC,IAAM,2B,oBCAvID,EAAOC,QAAU,CAAC,OAAS,gC,oBCA3BD,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,MAAQ,yB,oBCAzDD,EAAOC,QAAU,CAAC,KAAO,qB,oBCAzBD,EAAOC,QAAU,CAAC,OAAS,8B,qJCGZ,SAASC,EAAeC,EAAKC,GAC1C,OCLa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKC,GACjD,GAAsB,qBAAXG,QAA4BA,OAAOC,YAAYC,OAAON,GAAjE,CACA,IAAIO,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKb,EAAII,OAAOC,cAAmBG,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAEThB,GAAKM,EAAKW,SAAWjB,GAH8CO,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBP,EAAKC,IAAM,OAAAmB,EAAA,GAA2BpB,EAAKC,IGLjF,WACb,MAAM,IAAIoB,UAAU,6IHIgF,G,sBIFzFC,EAAyB,SAAC7B,GAAW,IAAD,IAEf8B,oBAAS,GAFM,GAExCC,EAFwC,KAE9BC,EAF8B,SAGnBF,mBAAS9B,EAAMiC,QAHI,GAGxCA,EAHwC,KAGhCC,EAHgC,KAI7CC,qBAAU,WACND,EAAUlC,EAAMiC,UACjB,CAACjC,EAAMiC,SAaV,OACI,6BACKF,EACK,6BACE,2BAAOP,MAAOS,EAAQG,OAbvB,WACXpC,EAAMqC,iBAAiBJ,GACvBD,GAAY,IAWsCM,SAR/B,SAACC,GACpBL,EAAUK,EAAMC,OAAOhB,QAOqDiB,WAAW,KAE7E,6BACE,0BAAMC,cAlBP,kBAAMV,GAAY,IAkBYW,UAAWC,IAAIX,QAAUjC,EAAMiC,QAAU,gBCxB7EY,EAAc,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,QAASb,EAA8B,EAA9BA,OAAQI,EAAsB,EAAtBA,iBAC1C,IAAKS,EACD,OAAO,kBAAC,IAAD,MAGX,IAAIC,EAAQD,EAAQE,OAASF,EAAQE,OAAOC,MAAQ,GACpD,OACI,6BACI,yBAAKN,UAAWC,IAAIM,MAChB,yBAAKC,IAAKJ,EAAOJ,UAAWC,IAAIQ,IAAKC,IAAI,YACzC,kBAAC,EAAD,CAAwBpB,OAAQA,EAAQI,iBAAkBA,O,4CCC3DiB,MAbf,SAActD,GACV,OACI,yBAAK2C,UAAWC,IAAIW,MAChB,yBAAKJ,IAAI,kDAAkDE,IAAI,QAC/D,8BAAOrD,EAAMwD,SACb,6BACI,uCAAaxD,EAAMyD,UAAnB,KACA,4C,mDCJVC,EAAWC,YAAO,IAgBXC,EAAcC,YAAU,CAACC,KAAM,WAAjBD,EAdd,SAAC7D,GACV,OACI,0BAAM+D,SAAU/D,EAAMgE,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,KAAM,OAAQC,YAAa,gBAAiBC,UAAWC,IACvDC,SAAU,CAACC,IAAeb,MAErC,yBAAKf,UAAWC,IAAI4B,QAChB,4BAAQ7B,UAAU,0BAAlB,iBCOD8B,EAlBC,SAACzE,GAKb,OACI,yBAAK2C,UAAWC,IAAI8B,OAChB,wCACA,kBAACd,EAAD,CAAaG,SAPP,SAACY,GACX3E,EAAM4E,QAAQD,EAAOE,SAOjB,yBAAKlC,UAAWC,IAAIkC,OACf9E,EAAM8E,MAAMC,KAAI,SAAAC,GAAI,OACjB,kBAAC,EAAD,CAAMC,IAAKD,EAAKE,GAAI1B,QAASwB,EAAKxB,QAASC,UAAWuB,EAAKvB,kB,QCNzE0B,EAAqB,CACvBP,aAGSQ,EAAmBjF,aAVR,SAACV,GACrB,MAAO,CACHqF,MAAOrF,EAAM4F,eAAeP,SAQqBK,EAAzBhF,CAA6CsE,GCG9Da,MAZf,SAAiBtF,GACb,OACI,6BACI,kBAAC,EAAD,CAAa8C,QAAS9C,EAAM8C,QAASb,OAAQjC,EAAMiC,OAAQI,iBAAkBrC,EAAMqC,mBACnF,kBAAC+C,EAAD,MACA,yBAAKzC,UAAWC,IAAI2C,QAApB,oB,wBCFNC,E,kLAGE,IAAIC,EAAS1F,KAAKC,MAAM0F,MAAMC,OAAOF,OAChCA,IACDA,EAAS1F,KAAKC,MAAMyF,QAExB1F,KAAKC,MAAM4F,eAAeH,GAC1B1F,KAAKC,MAAM6F,cAAcJ,K,+BAIzB,OAAO,kBAAC,EAAY1F,KAAKC,W,GAZFE,IAAML,WAyB/BsF,EAAqB,CACvBS,mBACAC,kBACAxD,sBAGWyD,sBACX3F,aAhBoB,SAACV,GACrB,MAAO,CACHqD,QAASrD,EAAM4F,eAAevC,QAC9Bb,OAAQxC,EAAM4F,eAAepD,OAC7BwD,OAAQhG,EAAME,KAAK8F,OACnB/F,OAAQD,EAAME,KAAKD,UAWEyF,GACzBY,IACAnG,IAHWkG,CAIbN","file":"static/js/3.3bf8e03f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to='/login'/>;\r\n            }\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"footer\":\"Profile_footer__2su4s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"top\":\"ProfileInfo_top__1GFY-\",\"info\":\"ProfileInfo_info__VTls2\",\"description\":\"ProfileInfo_description__1YXRb\",\"ava\":\"ProfileInfo_ava__X7uaG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"ProfileStatus_status__2YjbG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"block\":\"MyPosts_block__1npVh\",\"posts\":\"MyPosts_posts__3HKb1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2vst7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AddPostForm_button__38ZR2\"};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from \"react\";\r\nimport css from \"./ProfileStatus.module.css\";\r\n\r\nexport const ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const onEdit = () => setEditMode(true);\r\n\r\n    const onView = () => {\r\n        props.updateUserStatus(status)\r\n        setEditMode(false);\r\n    }\r\n\r\n    const onStatusChange = (event) => {\r\n        setStatus(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {editMode\r\n                ? <div>\r\n                    <input value={status} onBlur={onView} onChange={onStatusChange} autoFocus={true}/>\r\n                </div>\r\n                : <div>\r\n                    <span onDoubleClick={onEdit} className={css.status} >{props.status || 'no status'}</span>\r\n                </div>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport css from './ProfileInfo.module.css'\r\nimport {Preloader} from \"../../shared/preloader/preloader\";\r\nimport {ProfileStatusWithHooks} from \"../profileStatus/ProfileStatusWithHooks\";\r\n\r\nexport const ProfileInfo = ({profile, status, updateUserStatus}) => {\r\n    if (!profile) {\r\n        return <Preloader/>;\r\n    }\r\n\r\n    let photo = profile.photos ? profile.photos.small : '';\r\n    return (\r\n        <div>\r\n            <div className={css.info}>\r\n                <img src={photo} className={css.ava} alt='profile'/>\r\n                <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import React from \"react\";\r\nimport css from './Post.module.css'\r\n\r\nfunction Post(props) {\r\n    return (\r\n        <div className={css.item}>\r\n            <img src='https://pbs.twimg.com/media/B5sxe6YCIAANnkk.jpg' alt='alt'/>\r\n            <span>{props.message}</span>\r\n            <div>\r\n                <div> like ({props.likeCount})</div>\r\n                <div> dislike</div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport css from './AddPostForm.module.css';\r\nimport {maxLen, requiredField} from \"../../../../util/validators/validators\";\r\nimport {TextArea} from \"../../../shared/form-controls/Controls\";\r\n\r\nconst maxLen30 = maxLen(30);\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={'text'} placeholder={'Add post text'} component={TextArea}\r\n                       validate={[requiredField, maxLen30]}/>\r\n            </div>\r\n            <div className={css.button}>\r\n                <button className=\"btn btn-success btn-sm\">Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddPostForm = reduxForm({form: 'addPost'})(Form)\r\n","import React from \"react\";\r\nimport css from './MyPosts.module.css'\r\nimport Post from \"./post/Post\";\r\nimport {AddPostForm} from \"./addPost/AddPostForm\";\r\n\r\nconst MyPosts = (props) => {\r\n    let addPost = (values) => {\r\n        props.addPost(values.text);\r\n    };\r\n\r\n    return (\r\n        <div className={css.block}>\r\n            <h3>My posts</h3>\r\n            <AddPostForm onSubmit={addPost}/>\r\n            <div className={css.posts}>\r\n                {props.posts.map(post =>\r\n                    <Post key={post.id} message={post.message} likeCount={post.likeCount}/>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MyPosts;","import {addPost} from \"../../../redux/profileReducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\"\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profileReducer.posts\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    addPost,\r\n};\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import React from \"react\";\r\nimport css from './Profile.module.css'\r\nimport {ProfileInfo} from \"./profileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./myPosts/MyPostsContainer\";\r\n\r\nfunction Profile(props) {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus}/>\r\n            <MyPostsContainer/>\r\n            <div className={css.footer}>\r\n                Profile footer\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\"\r\nimport {withRouter} from \"react-router\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profileReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.userId;\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props}/>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profileReducer.profile,\r\n        status: state.profileReducer.status,\r\n        userId: state.auth.userId,\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    getUserProfile,\r\n    getUserStatus,\r\n    updateUserStatus,\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer);"],"sourceRoot":""}