{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/dialogs/Dialogs.module.css","components/dialogs/dialog/Dialog.module.css","components/dialogs/message/Message.module.css","components/dialogs/newMessage/AddMessageForm.module.css","components/dialogs/dialog/Dialog.jsx","components/dialogs/message/Message.jsx","components/dialogs/newMessage/AddMessageForm.jsx","components/dialogs/Dialogs.jsx","components/dialogs/DialogsContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Dialog","path","id","className","css","dialog","name","Message","message","maxLen50","maxLen","AddMessageForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","TextArea","validate","requiredField","button","Dialogs","dialogs","dialogItems","map","key","messages","values","console","log","sendMessage","text","mapDispatchToProps","compose","dialogsReducer"],"mappings":"gNAIMA,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAIdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,uKAGnC,OAAKC,KAAKC,MAAMN,OAIT,kBAACG,EAAcE,KAAKC,OAHhB,kBAAC,IAAD,CAAUC,GAAG,eAJW,GACXC,IAAML,WAUtC,OAAOM,YAAQX,EAARW,CAAyBL,K,oBCpBpCM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,YAAc,6BAA6B,OAAS,wBAAwB,SAAW,4B,oBCA5ID,EAAOC,QAAU,CAAC,YAAc,4BAA4B,OAAS,uBAAuB,OAAS,yB,oBCArGD,EAAOC,QAAU,CAAC,QAAU,2B,oBCA5BD,EAAOC,QAAU,CAAC,OAAS,iC,wGCYZC,MATf,SAAgBN,GACZ,IAAIO,EAAO,YAAcP,EAAMQ,GAC/B,OACI,yBAAKC,UAAWC,IAAIC,QAChB,kBAAC,IAAD,CAASV,GAAIM,GAAOP,EAAMY,Q,kBCGvBC,MARf,SAAiBb,GACb,OACI,yBAAKS,UAAWC,IAAII,SACfd,EAAMc,U,mDCAbC,EAAWC,YAAO,IAgBXC,EAAiBC,YAAU,CAACC,KAAM,cAAjBD,EAdjB,SAAClB,GACV,OACI,0BAAMoB,SAAUpB,EAAMqB,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOV,KAAM,OAAQW,YAAa,mBAAoBC,UAAWC,IAC1DC,SAAU,CAACC,IAAeZ,MAErC,yBAAKN,UAAWC,IAAIkB,QAChB,4BAAQnB,UAAU,0BAAlB,qBCSDoB,MAnBf,SAAiB7B,GAMb,OACI,yBAAKS,UAAWC,IAAIoB,SAChB,yBAAKrB,UAAWC,IAAIqB,aACf/B,EAAMP,MAAMqC,QAAQE,KAAI,SAAArB,GAAM,OAAI,kBAAC,EAAD,CAAQC,KAAMD,EAAOC,KAAMJ,GAAIG,EAAOH,GAAIyB,IAAKtB,EAAOH,SAE7F,yBAAKC,UAAWC,IAAIwB,UACflC,EAAMP,MAAMyC,SAASF,KAAI,SAAAlB,GAAO,OAAI,kBAAC,EAAD,CAASA,QAASA,EAAQA,QAASmB,IAAKnB,EAAQN,QACrF,kBAACS,EAAD,CAAgBG,SAZR,SAACe,GACjBC,QAAQC,IAAIF,GACZnC,EAAMsC,YAAYH,EAAOI,Y,iCCG7BC,EAAqB,CACrBF,iBAGWG,sBACXtC,aAXkB,SAACV,GACnB,MAAO,CACHA,MAAOA,EAAMiD,kBASQF,GACzB5C,IAFW6C,CAGbZ","file":"static/js/4.1da97a33.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n    }\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) {\r\n                return <Redirect to='/login'/>;\r\n            }\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToProps)(RedirectComponent);\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__1k3k2\",\"dialogItems\":\"Dialogs_dialogItems__1rDf0\",\"active\":\"Dialogs_active__1dfmb\",\"messages\":\"Dialogs_messages__10T8I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogItems\":\"Dialog_dialogItems__3FMCj\",\"active\":\"Dialog_active__1q85k\",\"dialog\":\"Dialog_dialog__6kdu3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__vbAlD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"AddMessageForm_button__3nXr3\"};","import React from \"react\";\r\nimport css from './Dialog.module.css'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nfunction Dialog(props) {\r\n    let path = \"/dialogs/\" + props.id;\r\n    return (\r\n        <div className={css.dialog}>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialog;","import React from \"react\";\r\nimport css from './Message.module.css'\r\n\r\nfunction Message(props) {\r\n    return (\r\n        <div className={css.message}>\r\n            {props.message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport css from './AddMessageForm.module.css';\r\nimport {TextArea} from \"../../shared/form-controls/Controls\";\r\nimport {maxLen, requiredField} from \"../../../util/validators/validators\";\r\n\r\nconst maxLen50 = maxLen(50);\r\n\r\nconst Form = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name={'text'} placeholder={'Add message text'} component={TextArea}\r\n                       validate={[requiredField, maxLen50]}/>\r\n            </div>\r\n            <div className={css.button}>\r\n                <button className=\"btn btn-success btn-sm\">Send message</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport const AddMessageForm = reduxForm({form: 'addMessage'})(Form)\r\n","import React from \"react\";\r\nimport css from './Dialogs.module.css'\r\nimport Dialog from \"./dialog/Dialog\";\r\nimport Message from \"./message/Message\";\r\nimport {AddMessageForm} from \"./newMessage/AddMessageForm\";\r\n\r\nfunction Dialogs(props) {\r\n    const sendMessage = (values) => {\r\n        console.log(values)\r\n        props.sendMessage(values.text)\r\n    }\r\n\r\n    return (\r\n        <div className={css.dialogs}>\r\n            <div className={css.dialogItems}>\r\n                {props.state.dialogs.map(dialog => <Dialog name={dialog.name} id={dialog.id} key={dialog.id}/>)}\r\n            </div>\r\n            <div className={css.messages}>\r\n                {props.state.messages.map(message => <Message message={message.message} key={message.id}/>)}\r\n                <AddMessageForm onSubmit={sendMessage}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\"\r\nimport {sendMessage} from \"../../redux/dialogsReducer\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        state: state.dialogsReducer,\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = {\r\n    sendMessage,\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect,\r\n)(Dialogs);\r\n"],"sourceRoot":""}